:root{
    --periwinkle: #B8B8F3;
    --mauve:      #D7B8F3;
    --plum:       #F397D6;
    --neon:       #F42272;
    --charcoal:   #232E21;
  
    --bg: #0f0f0f;
    --card: #121212;
    --muted: rgba(255,255,255,0.75);
    --accent-text: #111;
  }
  :root[data-theme="light"]{
    --bg: #f7f7fb;
    --card: #ffffff;
    --muted: #3a3a44;
    --accent-text: #fff;
  }
  
  /* Reset */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: var(--bg);
    color: #fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
  }
  :root[data-theme="light"] body{color:#1e1e24;}
  
  /* App layout */
  .app{
    width: min(760px, 96vw);
    background: var(--card);
    border: 2px solid var(--periwinkle);
    border-radius:14px;
    overflow:hidden;
    box-shadow: 0 16px 60px rgba(0,0,0,0.55);
  }
  :root[data-theme="light"] .app{border-color:var(--periwinkle);box-shadow:0 14px 40px rgba(0,0,0,0.08);}
  
  /* Header with swatches and title */
  .app-header{
    padding:18px 20px 14px;
    background: #0e0e0e;
    border-bottom: 1px solid var(--plum);
  }
  :root[data-theme="light"] .app-header{background:#f3f2fb;}
  .header-row{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;}
  .app-header h1{
    font-size:22px;
    color: var(--mauve);
    margin-bottom:6px;
    letter-spacing:0.5px;
  }
  :root[data-theme="light"] .app-header h1{color:#2b2b33;}
  .tagline{
    color: rgba(255,255,255,0.6);
    font-size:12px;
  }
  :root[data-theme="light"] .tagline{color:rgba(0,0,0,0.55);}

  .btn-ghost{
    background:transparent;
    border:1px solid rgba(255,255,255,0.2);
    color:var(--periwinkle);
    padding:8px 10px;
    border-radius:10px;
    cursor:pointer;
    font-weight:700;
    transition:border-color 120ms ease, background 120ms ease, color 120ms ease;
  }
  .btn-ghost:hover{border-color:var(--plum);background:rgba(255,255,255,0.06);}
  :root[data-theme="light"] .btn-ghost{border-color:rgba(0,0,0,0.1);color:#2b2b33;}
  :root[data-theme="light"] .btn-ghost:hover{background:rgba(0,0,0,0.05);}
  
  /* Content card */
  .todo-container{
    background: var(--card);
    padding:20px;
    border-radius: 0 0 12px 12px;
  }
  
  /* Input */
  .input-row{
    display:flex;
    gap:10px;
    margin-bottom:12px;
  }
  #todo-input{
    flex:1;
    padding:12px 14px;
    border-radius:10px;
    border: 1px solid var(--plum);
    background: #0e0e0e;
    color: white;
    font-size:15px;
    transition: border-color 120ms ease, box-shadow 120ms ease;
  }
  #todo-input:focus{
    outline:none;
    border-color: var(--neon);
    box-shadow: 0 0 0 3px rgba(244,34,114,0.15);
  }
  #todo-input::placeholder{color: rgba(255,255,255,0.4);}
  :root[data-theme="light"] #todo-input{background:#fff;color:#1e1e24;}
  :root[data-theme="light"] #todo-input::placeholder{color:rgba(0,0,0,0.45);}
  .btn-primary{
    background: var(--neon);
    color: var(--accent-text);
    border:2px solid var(--neon);
    padding:10px 14px;
    border-radius:10px;
    cursor:pointer;
    font-weight:700;
    letter-spacing:0.3px;
    transition: transform 120ms ease, box-shadow 120ms ease;
  }
  .btn-primary:hover{transform: translateY(-1px);box-shadow:0 6px 14px rgba(244,34,114,0.35);}
  .btn-primary:active{transform: translateY(0);}
  :root[data-theme="light"] .btn-primary{color:white;}
  
  /* Controls */
  .controls{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:8px;
    margin-bottom:10px;
    color:var(--muted);
    font-size:13px;
    border:1px solid rgba(255,255,255,0.06);
    border-radius:10px;
    padding:10px 12px;
    background:#0e0e0e;
  }
  :root[data-theme="light"] .controls{background:#f7f7fb;color:#2b2b33;border-color:rgba(0,0,0,0.08);}
  .filters{display:flex;gap:8px}
  .filter-btn{
    background:transparent;
    color:var(--muted);
    border:1px solid rgba(255,255,255,0.12);
    padding:6px 12px;
    border-radius:999px;
    cursor:pointer;
    font-weight:700;
    letter-spacing:0.2px;
    transition: border-color 120ms ease, color 120ms ease, background 120ms ease;
  }
  .filter-btn:hover{border-color: var(--plum);color: #fff;}
  .filter-btn.active{
    background: rgba(184,184,243,0.15);
    color: var(--periwinkle);
    border-color: var(--periwinkle);
  }
  :root[data-theme="light"] .filter-btn{border-color:rgba(0,0,0,0.12);color:#4a4a52;}
  :root[data-theme="light"] .filter-btn:hover{color:#1e1e24;border-color:var(--plum);}
  .btn-link{
    background:transparent;
    color:var(--plum);
    border:1px solid var(--plum);
    border-radius:999px;
    padding:6px 12px;
    cursor:pointer;
    font-weight:700;
  }
  :root[data-theme="light"] .btn-link{color:var(--neon);border-color:rgba(244,34,114,0.35);}
  
  /* Todo list */
  .todo-list{list-style:none;padding:0;margin:0}
  .todo-item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:12px 14px;
    background: #0e0e0e;
    border:1px solid rgba(184,184,243,0.25);
    border-radius:10px;
    margin-bottom:8px;
  }
  :root[data-theme="light"] .todo-item{background:#fff;border-color:rgba(0,0,0,0.08);}
  .todo-item{transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;}
  .todo-item.dragging{opacity:0.6;transform:scale(0.99);}
  .left-block{display:flex;align-items:center;gap:12px;flex:1}
  .todo-checkbox{
    width:20px;height:20px;border-radius:6px;border:2px solid rgba(184,184,243,0.5);
    display:inline-grid;place-items:center;cursor:pointer;background:#0f0f0f;color:var(--periwinkle);font-weight:900;
    transition:border-color 120ms ease, background 120ms ease;
  }
  .todo-checkbox:hover{border-color: var(--neon);}
  :root[data-theme="light"] .todo-checkbox{background:#fff;border-color:rgba(0,0,0,0.12);color:#2b2b33;}
  .todo-text{font-size:15px;flex:1;color:var(--muted);word-break:break-word}
  .todo-text.done{ text-decoration:line-through; opacity:0.6; color: rgba(255,255,255,0.55); }
  :root[data-theme="light"] .todo-text.done{color:rgba(0,0,0,0.55);}
  .actions{display:flex;gap:6px}
  .action-btn{
    background:transparent;border:1px solid rgba(184,184,243,0.35);color:var(--periwinkle);padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:700;
    transition: border-color 120ms ease, color 120ms ease, background 120ms ease;
  }
  .action-btn.edit{ color: var(--mauve); border-color: rgba(215,184,243,0.4); }
  .action-btn.delete{ color: var(--neon); border-color: rgba(244,34,114,0.5); }
  .action-btn:hover{background: rgba(255,255,255,0.05);border-color: var(--periwinkle);color:#fff;}
  :root[data-theme="light"] .action-btn:hover{background:rgba(0,0,0,0.04);color:#2b2b33;}
  
  /* edit input */
  .edit-input{
    width:100%;
    padding:9px 10px;
    border-radius:8px;
    border:1px solid var(--periwinkle);
    background: #0e0e0e;
    color:white;
    font-size:15px;
  }
  :root[data-theme="light"] .edit-input{background:#fff;color:#1e1e24;}
  
  /* Footer */
  .app-footer{padding:12px 16px;text-align:center;color:rgba(255,255,255,0.55);font-size:12px;border-top:1px solid rgba(184,184,243,0.25);}
  :root[data-theme="light"] .app-footer{color:rgba(0,0,0,0.55);border-top-color:rgba(0,0,0,0.08);}

  /* Accessibility */
  .sr-only{
    position:absolute;
    width:1px;
    height:1px;
    padding:0;
    margin:-1px;
    overflow:hidden;
    clip:rect(0,0,0,0);
    white-space:nowrap;
    border:0;
  }

  /* Animations */
  @keyframes fadeInUp {
    from {opacity:0; transform: translateY(8px);}
    to {opacity:1; transform: translateY(0);}
  }
  .animate-in { animation: fadeInUp 160ms ease; }
  